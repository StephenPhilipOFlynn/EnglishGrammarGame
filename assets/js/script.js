// array of questions

const questions = [
  {
  question: "1. The dog ______ sleeping",
  answers: [
  { text: "am", correct: false},
  { text: "is", correct: true},
  { text: "are", correct: false},
]
},
{
  question: "2. What time ______ it?",
  answers: [
  { text: "are", correct: false},
  { text: "am", correct: false},
  { text: "is", correct: true},
]
},
{
  question: "3. I ______ an English student",
  answers: [
  { text: "are", correct: false},
  { text: "am", correct: true},
  { text: "be", correct: false},
]
},
{
  question: "4. Some people ___ Ireland speak a different language called Gaelic.",
  answers: [
  { text: "at", correct: false},
  { text: "on", correct: false},
  { text: "in", correct: true},
]
},
{
  question: "5. I like to go to Paris _______ the summer.",
  answers: [
  { text: "in", correct: true},
  { text: "on", correct: false},
  { text: "beside", correct: false},
]
},
{
  question: "6. The cat ______ on the fence",
  answers: [
  { text: "sit", correct: false},
  { text: "sits", correct: true},
  { text: "sitted", correct: false},
]
},
{
  question: "7. She ate _____ apple",
  answers: [
  { text: "an", correct: true},
  { text: "a", correct: false},
  { text: "am", correct: false},
]
},
{
  question: "8. They _____ French. They're from Belgium",
  answers: [
  { text: "aren't", correct: true},
  { text: "isn't", correct: false},
  { text: "ben't", correct: false},
]
},
{
  question: "9. We _____ talking for 2 hours.",
  answers: [
  { text: "where", correct: false},
  { text: "was", correct: false},
  { text: "were", correct: true},
]
},
{
  question: "10. I want to make an omelette, _______ eggs do we have?",
  answers: [
  { text: "how many", correct: true},
  { text: "how much", correct: false},
  { text: "how number", correct: false},
]
},
{
  question: "11. I get _____ every morning at 8am.",
  answers: [
  { text: "out", correct: false},
  { text: "up", correct: true},
  { text: "by", correct: false},
]
},
{
  question: "12. What book is _______?",
  answers: [
  { text: "those", correct: false},
  { text: "that", correct: true},
  { text: "them", correct: false},
]
},
{
  question: "13. The tv show was successful and  _____ them famous.",
  answers: [
  { text: "taken", correct: false},
  { text: "make", correct: false},
  { text: "made", correct: true},
]
},
{
  question: "14. They went to the park ____ Sunday.",
  answers: [
  { text: "on", correct: true},
  { text: "at", correct: false},
  { text: "in", correct: false},
]
},
{
  question: "15. Look at ____ horses in the distance.",
  answers: [
  { text: "these", correct: false},
  { text: "those", correct: true},
  { text: "dem", correct: false},
]
},
{
  question: "16. Look at ____ trousers on sale.",
  answers: [
  { text: "this", correct: false},
  { text: "these", correct: true},
  { text: "that", correct: false},
]
},
{
  question: "17. ______ of these cities will you visit?",
  answers: [
  { text: "Which", correct: true},
  { text: "When", correct: false},
  { text: "Where", correct: false},
]
},
{
  question: "18. Lets go to _________ concert.",
  answers: [
  { text: "their", correct: true},
  { text: "there", correct: false},
  { text: "ther", correct: false},
]
},
{
  question: "19. She did really _______.",
  answers: [
  { text: "nice", correct: false},
  { text: "well", correct: true},
  { text: "good", correct: false},
]
},
{
  question: "20. How many children _______ got?",
  answers: [
  { text: "will they", correct: false},
  { text: "they have", correct: false},
  { text: "have they", correct: true},
]
},
{
  question: "21. I don't like Colombian coffee, it is _______ strong for me.",
  answers: [
  { text: "too", correct: true},
  { text: "such", correct: false},
  { text: "much", correct: false},
]
},
{
  question: "22. The dog has ______ my homework",
  answers: [
  { text: "eaten", correct: true},
  { text: "ate", correct: false},
  { text: "eated", correct: false},
]
},
{
  question: "23. We _____ to Australia when I was five.",
  answers: [
  { text: "moves", correct: false},
  { text: "moving", correct: false},
  { text: "moved", correct: true},
]
},
{
  question: "24. I wanted to go to the cinema but I couldn't. I _____ studying for the test we had on Monday.",
  answers: [
  { text: "must", correct: false},
  { text: "was", correct: true},
  { text: "been", correct: false},
]
},
{
  question: "25. The music video was expensive to make, it ______ twenty million dollars.",
  answers: [
  { text: "cost", correct: false},
  { text: "costs", correct: true},
  { text: "costed", correct: false},
]
},
{
  question: "26. No sooner _______ arrived when the Chief Executive began to speak.",
  answers: [
  { text: "I had", correct: false},
  { text: "had I", correct: true},
  { text: "did I", correct: false},
]
},
{
  question: "27. He enjoys ________ the piano in his free time",
  answers: [
  { text: "to play", correct: false},
  { text: "playing", correct: true},
  { text: "played", correct: false},
]
},
{
  question: "28. Have you ________ watching without me?",
  answers: [
  { text: "begun", correct: true},
  { text: "starts", correct: false},
  { text: "began", correct: false},
]
},
{
  question: "29. I had _____ all night to see her.",
  answers: [
  { text: "drove", correct: false},
  { text: "driving", correct: false},
  { text: "driven", correct: true},
]
},
{
  question: "30. She works as a teacher in ___ Africa.",
  answers: [
  { text: "__", correct: true},
  { text: "an", correct: false},
  { text: "the", correct: false},
]
},
{
  question: "31. I went to ___ bed early yesterday.",
  answers: [
  { text: "the", correct: false},
  { text: "_", correct: true},
  { text: "mine", correct: false},
]
},
{
  question: "32. My sister Ruth is ________ so much progress with her Spanish.",
  answers: [
  { text: "making", correct: true},
  { text: "taking", correct: false},
  { text: "learn", correct: false},
]
},
{
  question: "33. I am  ________ learn to dance.",
  answers: [
  { text: "going", correct: false},
  { text: "willing", correct: false},
  { text: "going to", correct: true},

]
},
{
  question: "34. What  ________ happen if she doesn't get here on time?",
  answers: [
  { text: "will", correct: true},
  { text: "going to", correct: false},
  { text: "might be", correct: false},
]
},
{
  question: "35. He ______________ there for two years before he decided to resign.",
  answers: [
  { text: "had been worked", correct: false},
  { text: "had been working", correct: true},
  { text: "must have working", correct: false},
]
},
{
  question: "36. At one time it ___________ the earth was the center of the universe.",
  answers: [
  { text: "was being believed", correct: false},
  { text: "was believed", correct: true},
  { text: "had being believed", correct: false},
]
},
{
  question: "37. When she was a child, she ______ be happy all the time.",
  answers: [
  { text: "should", correct: false},
  { text: "would", correct: false},
  { text: "used to", correct: true},
]
},
{
  question: "38. ______ you like some tea?",
  answers: [
  { text: "Will", correct: false},
  { text: "Would", correct: true},
  { text: "When", correct: false},
]
},
{
  question: "39. _____ Indian food?",
  answers: [
  { text: "Did she ever ate", correct: false},
  { text: "Has she ever eaten", correct: true},
  { text: "Did she ever eaten", correct: false},
]
},
{
  question: "40. They have not finished interviews yet, but they ____________ all candidates by next Friday",
  answers: [
  { text: "would see", correct: false},
  { text: "plan to seen", correct: false},
  { text: "will have seen", correct: true},
]
},
{
  question: "41. You ___________ bothered making pasta, they've decided to head out.",
  answers: [
  { text: "needn't have", correct: true},
  { text: "didn't have to", correct: false},
  { text: "couldn't have", correct: false},
]
},
{
  question: "42. Stephen _______ watching chess matches.",
  answers: [
  { text: "'s always to love", correct: false},
  { text: "'s always loved", correct: true},
  { text: "'s always been loving", correct: false},
]
},
{
  question: "43. Sorry, the meeting finished late. Isabel told me she _____ been given the wrong directions.",
  answers: [
  { text: "had", correct: true},
  { text: "has", correct: false},
  { text: "have", correct: false},
]
},
{
  question: "44. Da Vinci's lost painting! To think it was lost for years and _________.",
  answers: [
  { text: "has been restoring", correct: false},
  { text: "had to be restored", correct: true},
  { text: "had to have been restoring", correct: false},
]
},
{
  question: "45. I am not surprised your stomach is sore. I did say you __________ eaten that fish last night.",
  answers: [
  { text: "shouldn't have", correct: true},
  { text: "mustn't have", correct: false},
  { text: "couldn't have", correct: false},
]
},
]

// Set event listeners for selecting answers
document.addEventListener("DOMContentLoaded", function () {
  const buttons = document.querySelectorAll(".button");
  buttons.forEach(button => {
    button.addEventListener("click", checkAnswer);
  });
});

let currentIndex = 0;
let correctAnswers = 0;
let incorrectAnswers = 0;
let currentQuestion;

const introText = document.getElementById("begin");
const ready = document.getElementById("ready");
const questionText = document.getElementById("questionArea");
const buttons = document.querySelectorAll(".button");
const result = document.getElementById("result");
const startAgain = document.getElementById("startAgain");

function startQuiz(){
  ready.removeEventListener("click", startQuiz);
  introText.style.display = "none";
  ready.style.display = "none";
  document.getElementById("parent").style.display = "block";
  showQuestion();
  };

// Display question and populate answer buttons with possible answers

//separate functions for clarity have all question been answered or are there further questions to go //

function showQuestion() {
    if (currentIndex == questions.length - 1) {
      displayResult();
    } else {
      displayNextQuestion();
    }
  }

function displayNextQuestion() {
  currentQuestion = questions[currentIndex];
  questionText.innerHTML = currentQuestion.question;

  for (let i= 0; i < buttons.length; i++) {
    buttons[i].style.display = "block";
    buttons[i].textContent = currentQuestion.answers[i].text;
    }
}

function displayResult() {
  if (correctAnswers >= 40) {
    result.textContent = `Congrats you have finished the test! You scored ${correctAnswers} out of ${questions.length}.\
    Wow! Your grammar knowledge is at upper-intermediate or advanced level. Impressive!`;} 
    else if (correctAnswers >= 30) {
    result.textContent = `Congrats you have finished the test! You scored ${correctAnswers} out of ${questions.length}.\
    Well done! Your grammar knowledge is at an intermediate level or above. Keep working hard and you will improve!`;}
    else {
      result.textContent = `Congrats you have finished the test! You scored ${correctAnswers} out of ${questions.length}.\
      We estimate your grammar is at pre-intermediate level or below. Keep working hard and you will improve!`;}
    startAgain.style.display = "block";
  // add play again function option here //
}

function checkAnswer(e) {
  /* check answer and go to next question */
  const selectedAnswer = e.target.textContent;
  const isCorrect = currentQuestion.answers.some(answer => answer.text === selectedAnswer && answer.correct);

  currentIndex++;

  if (isCorrect) {
    correctAnswers++;
  } else {
    incorrectAnswers++;
  }

  showQuestion();
}

// Start quiz on click of 'I'm Ready' button
ready.addEventListener("click", startQuiz);
// event listener to reset
// startAgain.addEventListener("click", startQuiz);





